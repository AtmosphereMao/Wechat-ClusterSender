$(document).ready(function(){$.extend({StandardPost:function(b,a){var c=$("\x3cform method\x3d'post'\x3e\x3c/form\x3e"),d;c.attr({action:b});c.append('\x3cinput type\x3d"hidden" name\x3d"_token" value\x3d"'+$('meta[name\x3d"csrf-token"]').attr("content")+'"\x3e');$.each(a,function(a,b){d=$("\x3cinput type\x3d'hidden'\x3e");d.attr({name:a});d.val(b);c.append(d)});$(document.body).append(c);c.submit()}});$("#login-choose").click(function(){window.location.href="generate/choose"});$("#login-qrcode").click(function(){$(this).attr("disabled","disabled");htmlobj=$.ajax({url:"generate/login",async:!1});100<htmlobj.responseText.length?window.location.href="generate":($("#qrcode").show(),$("#qrcode").html("\x3cimg src\x3d'https://login.weixin.qq.com/qrcode/"+htmlobj.responseText+"'\x3e"),$.get("generate/validation/"+htmlobj.responseText,function(b){var a=eval("("+b+")");$("#qrcode").append("\x3cp id\x3d'qrcoderesulf'\x3e"+a[3]+"\x3c/p\x3e");" \u6b63\u5728\u767b\u5f55..."==$("#qrcoderesulf").text()?setTimeout(function(){$.StandardPost("generate/loading",{base_uri:a[0],redirect_uri:a[1],push_uri:a[2]})},1E3):setTimeout(function(){window.location.reload()},3E3)}))})});